<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Systemd Homed | Basti’s blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Systemd Homed" />
<meta name="author" content="Basti" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="systemd-homed Observations from using systemd-homed for a couple of days:" />
<meta property="og:description" content="systemd-homed Observations from using systemd-homed for a couple of days:" />
<link rel="canonical" href="https://swsnr.de/2020/12/10/systemd-homed.html" />
<meta property="og:url" content="https://swsnr.de/2020/12/10/systemd-homed.html" />
<meta property="og:site_name" content="Basti’s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-10T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Systemd Homed" />
<script type="application/ld+json">
{"datePublished":"2020-12-10T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://swsnr.de/2020/12/10/systemd-homed.html"},"description":"systemd-homed Observations from using systemd-homed for a couple of days:","url":"https://swsnr.de/2020/12/10/systemd-homed.html","@type":"BlogPosting","author":{"@type":"Person","name":"Basti"},"headline":"Systemd Homed","dateModified":"2020-12-10T00:00:00+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="https://swsnr.de/feed.xml" title="Basti’s blog" /><link rel="stylesheet" href="/style.css">
    <meta name="color-scheme" content="dark light">
</head>

<body>
    <main>
        <article itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <aside><time datetime="2020-12-10T00:00:00+00:00" itemprop="datePublished">
                Published on 2020-12-10
            </time></aside>
    </header>

    <div><h1 id="systemd-homed">systemd-homed</h1>

<p>Observations from using systemd-homed for a couple of days:</p>

<!--more-->

<ul>
  <li>Overall systemd-homed works quite well; I like that my system now boots direct to GDM, no ugly LUKS password prompt anymore, and I like that every user now has an independent encryption password.</li>
  <li>It doesn’t work well with btrfs though: It keeps complaining about having no space left on the device.</li>
  <li>The Newbie Corner of the Arch Linux forums is not so newbie: I found the cause of this issue in <a href="https://bbs.archlinux.org/viewtopic.php?pid=1922435#p1922435">a thread</a> there.</li>
  <li>Even in Arch Linux it can take a long time for simple bugs to get fixed, see <a href="https://bugs.archlinux.org/task/67658">FS#67685</a>.</li>
  <li>There are still some rough corners: For instance snapperd crashes when it tries to use user data of a homed user, see <a href="https://github.com/openSUSE/snapper/issues/589">https://github.com/openSUSE/snapper/issues/589</a>.
    <ul>
      <li>Incidentially even well-intentioned ideas such as clearing a password from memory are hard to get right in C.</li>
    </ul>
  </li>
</ul>

<p>All in all I’m quite happy and I really like the idea of homed; I think I’m going to stick with it.
I think this and many other ideas<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup> from the systemd project are really steps in the right direction.</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>As an aside I also really like <a href="https://systemd.io/DISCOVERABLE_PARTITIONS/">discoverable partitions</a>; it’s just very convenient to define the purpose of a partition right when I create it and it makes installation Arch Linux a bit easier. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>
</div>
</article>

    </main>
    <footer>
        <a href="/">Home</a> · <a href="/privacy.html">Privacy Policy</a> · <a href="/feed.xml">Atom Feed</a><br>
        Copyright (c) Sebastian Wiesner · Licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a><br>
        Last update 2020-12-28
        <!-- TODO: license -->
    </footer>
</body>

</html>
